# Maintainer: Your Name <your.email@example.com>

pkgname=manjcast
pkgver=1.0.0
pkgrel=1
pkgdesc="Screen Casting Tool for Manjaro Linux"
arch=('any')
url="https://github.com/yourusername/manjcast"
license=('MIT')
depends=(
  'python>=3.8'
  'python-pyqt5'
  'python-pip'
  'ffmpeg'
  'pulseaudio'
  'xorg-xwininfo'
  'xdotool'
)
optdepends=(
  'python-pychromecast: for Google Cast support'
  'python-zeroconf: for device discovery'
  'python-dbus: for desktop integration'
  'libnotify: for desktop notifications'
)
makedepends=('python-setuptools')
source=("$pkgname-$pkgver.tar.gz::$url/archive/refs/tags/v$pkgver.tar.gz")
sha256sums=('SKIP')

package() {
  cd "$srcdir/$pkgname-$pkgver"
  
  # Install Python package
  python setup.py install --root="$pkgdir" --optimize=1
  
  # Install desktop file
  install -Dm644 "$pkgname.desktop" "$pkgdir/usr/share/applications/$pkgname.desktop"
  
  # Install icons
  install -Dm644 "assets/$pkgname.png" "$pkgdir/usr/share/icons/hicolor/128x128/apps/$pkgname.png"
  install -Dm644 "assets/$pkgname.svg" "$pkgdir/usr/share/icons/hicolor/scalable/apps/$pkgname.svg"
  
  # Install license
  install -Dm644 "LICENSE" "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
  
  # Install config file
  install -Dm644 "config.ini" "$pkgdir/etc/$pkgname/config.ini"
  
  # Create log directory
  mkdir -p "$pkgdir/var/log/$pkgname"
}

# vim:set ts=2 sw=2 et:
